{"ast":null,"code":"import axios from \"axios\";\nimport * as actions from \"./authActions\";\nconst token = {\n  set(value) {\n    axios.defaults.headers.common.Authorization = `Bearer ${value}`;\n  },\n\n  unset() {\n    axios.defaults.headers.common.Authorization = null;\n  }\n\n};\nexport const login = userData => dispatch => {\n  dispatch(actions.loginRequest());\n  axios.post(\"/users/login\", userData).then(res => {\n    token.set(res.data.token);\n    dispatch(actions.loginSuccess(res.data));\n  }).catch(error => {\n    dispatch(actions.loginError(error));\n  });\n};\nexport const register = userData => dispatch => {\n  dispatch(actions.registerRequest());\n  axios.post(\"/users/signup\", userData).then(res => {\n    token.set(res.data.token);\n    dispatch(actions.registerSuccess(res.data));\n  }).catch(error => {\n    dispatch(actions.registerError(error));\n  });\n};\nexport const logout = userData => dispatch => {\n  dispatch(actions.logoutRequest());\n  axios.post(\"/users/logout\").then(res => {\n    token.set(res.data.token);\n    dispatch(actions.logoutSuccess(res.data));\n  }).catch(error => {\n    dispatch(actions.logoutError(error));\n  });\n};","map":{"version":3,"sources":["C:/Users/Misha/Desktop/Code/React/goiteens-react-2020/src/redux/auth/authOperations.js"],"names":["axios","actions","token","set","value","defaults","headers","common","Authorization","unset","login","userData","dispatch","loginRequest","post","then","res","data","loginSuccess","catch","error","loginError","register","registerRequest","registerSuccess","registerError","logout","logoutRequest","logoutSuccess","logoutError"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,eAAzB;AAEA,MAAMC,KAAK,GAAG;AACZC,EAAAA,GAAG,CAACC,KAAD,EAAQ;AACTJ,IAAAA,KAAK,CAACK,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA+C,UAASJ,KAAM,EAA9D;AACD,GAHW;;AAIZK,EAAAA,KAAK,GAAG;AACNT,IAAAA,KAAK,CAACK,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA8C,IAA9C;AACD;;AANW,CAAd;AASA,OAAO,MAAME,KAAK,GAAIC,QAAD,IAAeC,QAAD,IAAc;AAC/CA,EAAAA,QAAQ,CAACX,OAAO,CAACY,YAAR,EAAD,CAAR;AACAb,EAAAA,KAAK,CACFc,IADH,CACQ,cADR,EACwBH,QADxB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbd,IAAAA,KAAK,CAACC,GAAN,CAAUa,GAAG,CAACC,IAAJ,CAASf,KAAnB;AACAU,IAAAA,QAAQ,CAACX,OAAO,CAACiB,YAAR,CAAqBF,GAAG,CAACC,IAAzB,CAAD,CAAR;AACD,GALH,EAMGE,KANH,CAMUC,KAAD,IAAW;AAChBR,IAAAA,QAAQ,CAACX,OAAO,CAACoB,UAAR,CAAmBD,KAAnB,CAAD,CAAR;AACD,GARH;AASD,CAXM;AAaP,OAAO,MAAME,QAAQ,GAAIX,QAAD,IAAeC,QAAD,IAAc;AAClDA,EAAAA,QAAQ,CAACX,OAAO,CAACsB,eAAR,EAAD,CAAR;AACAvB,EAAAA,KAAK,CACFc,IADH,CACQ,eADR,EACyBH,QADzB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbd,IAAAA,KAAK,CAACC,GAAN,CAAUa,GAAG,CAACC,IAAJ,CAASf,KAAnB;AACAU,IAAAA,QAAQ,CAACX,OAAO,CAACuB,eAAR,CAAwBR,GAAG,CAACC,IAA5B,CAAD,CAAR;AACD,GALH,EAMGE,KANH,CAMUC,KAAD,IAAW;AAChBR,IAAAA,QAAQ,CAACX,OAAO,CAACwB,aAAR,CAAsBL,KAAtB,CAAD,CAAR;AACD,GARH;AASD,CAXM;AAcP,OAAO,MAAMM,MAAM,GAAIf,QAAD,IAAeC,QAAD,IAAc;AAChDA,EAAAA,QAAQ,CAACX,OAAO,CAAC0B,aAAR,EAAD,CAAR;AACA3B,EAAAA,KAAK,CACFc,IADH,CACQ,eADR,EAEGC,IAFH,CAESC,GAAD,IAAS;AACbd,IAAAA,KAAK,CAACC,GAAN,CAAUa,GAAG,CAACC,IAAJ,CAASf,KAAnB;AACAU,IAAAA,QAAQ,CAACX,OAAO,CAAC2B,aAAR,CAAsBZ,GAAG,CAACC,IAA1B,CAAD,CAAR;AACD,GALH,EAMGE,KANH,CAMUC,KAAD,IAAW;AAChBR,IAAAA,QAAQ,CAACX,OAAO,CAAC4B,WAAR,CAAoBT,KAApB,CAAD,CAAR;AACD,GARH;AASD,CAXM","sourcesContent":["import axios from \"axios\";\r\nimport * as actions from \"./authActions\";\r\n\r\nconst token = {\r\n  set(value) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${value}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = null;\r\n  },\r\n};\r\n\r\nexport const login = (userData) => (dispatch) => {\r\n  dispatch(actions.loginRequest());\r\n  axios\r\n    .post(\"/users/login\", userData)\r\n    .then((res) => {\r\n      token.set(res.data.token);\r\n      dispatch(actions.loginSuccess(res.data));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(actions.loginError(error));\r\n    });\r\n};\r\n\r\nexport const register = (userData) => (dispatch) => {\r\n  dispatch(actions.registerRequest());\r\n  axios\r\n    .post(\"/users/signup\", userData)\r\n    .then((res) => {\r\n      token.set(res.data.token);\r\n      dispatch(actions.registerSuccess(res.data));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(actions.registerError(error));\r\n    });\r\n};\r\n\r\n\r\nexport const logout = (userData) => (dispatch) => {\r\n  dispatch(actions.logoutRequest());\r\n  axios\r\n    .post(\"/users/logout\")\r\n    .then((res) => {\r\n      token.set(res.data.token);\r\n      dispatch(actions.logoutSuccess(res.data));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(actions.logoutError(error));\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}